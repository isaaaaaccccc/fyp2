/* Put these once, anywhere before the rules below (tokens.css is fine) */
:root{
  --z-header: 1200;              /* what your .header-banner uses */
  --z-offcanvas: 3000;           /* higher than header */
  --z-offcanvas-backdrop: 2990;  /* just below the panel */
}

/* Make sure your header references the token (optional, but nice) */
.header-banner{
  z-index: var(--z-header);
}

/* ---------- UPDATED OFFCANVAS ---------- */
.offcanvas {
  z-index: var(--z-offcanvas) !important;
  background: var(--color-panel-solid);
  backdrop-filter: blur(26px) saturate(160%);
  -webkit-backdrop-filter: blur(26px) saturate(160%);
  border-left: 1px solid var(--color-border);
  box-shadow: -6px 0 18px -4px rgba(0,0,0,.55);
  padding-bottom: 4rem;
}
.offcanvas-backdrop {
  z-index: var(--z-offcanvas-backdrop) !important;
  background: rgba(0,0,0,.45);
}

/* Rest of your original styles */
.offcanvas-header {
  border-bottom:1px solid var(--color-border);
  padding-bottom:.75rem;
}
.offcanvas-title {
  font-size:.85rem;
  letter-spacing:.55px;
  text-transform:uppercase;
  font-weight:600;
  color:var(--color-text-dim);
}
.offcanvas-body {
  display:flex;
  flex-direction:column;
  gap:1.1rem;
  font-size:.8rem;
}
.offcanvas-body label.form-label {
  font-size:.65rem;
  text-transform:uppercase;
  letter-spacing:.6px;
  font-weight:600;
  margin-bottom:.35rem;
  color:var(--color-text-dim);
  display:flex;
  align-items:center;
  gap:.35rem;
}
.offcanvas-body .form-select,
.offcanvas-body .choices__inner {
  background:rgba(255,255,255,.06)!important;
  border:1px solid rgba(255,255,255,.14)!important;
  color:var(--color-text)!important;
  font-size:.78rem;
  border-radius:var(--radius-sm)!important;
  min-height:2.35rem;
  box-shadow:inset 0 1px 2px rgba(0,0,0,.4);
  padding:.4rem .7rem!important;
  transition:border-color var(--trans-fast),background var(--trans-fast);
}
.offcanvas-body .form-select:focus,
.offcanvas-body .choices__inner:focus-within {
  border-color:rgba(var(--color-accent-rgb), .6)!important;
  box-shadow:0 0 0 2px rgba(var(--color-accent-rgb), .25);
  outline:none;
}
.choices__list--dropdown {
  background:#1f242c;
  border:1px solid rgba(255,255,255,.15);
  backdrop-filter:blur(16px);
}
.choices__item--choice {
  font-size:.75rem;
  padding:.45rem .65rem;
}
.choices__item--choice.is-highlighted {
  background:linear-gradient(135deg,rgba(var(--color-accent-rgb), .25),rgba(var(--color-accent-rgb), .1));
  color:#fff;
}
#active-filters {
  display:flex;
  flex-wrap:wrap;
  gap:.45rem;
  padding:.15rem .15rem .35rem;
}
#active-filters .badge {
  background:linear-gradient(135deg,rgba(var(--color-accent-rgb), .35),rgba(var(--color-accent-rgb), .15));
  color:#fff;
  font-size:.6rem;
  font-weight:600;
  letter-spacing:.5px;
  border-radius:var(--radius-pill);
  padding:.35em .65em;
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  box-shadow:0 1px 3px rgba(0,0,0,.45);
}

/* Filter action buttons (legacy) */
#auto-time-btn,
#clear-filters-btn {
  background:linear-gradient(135deg,rgba(255,255,255,.12),rgba(255,255,255,.05));
  border:1px solid rgba(255,255,255,.18);
  color:var(--color-text);
  font-size:.7rem;
  letter-spacing:.5px;
  font-weight:600;
  text-transform:uppercase;
  padding:.55rem .75rem;
  border-radius:var(--radius-sm);
  transition:background var(--trans-fast),color var(--trans-fast),border-color var(--trans-fast),transform var(--trans-fast);
}
#auto-time-btn:hover,
#clear-filters-btn:hover {
  background:linear-gradient(135deg,rgba(var(--color-accent-rgb), .35),rgba(var(--color-accent-rgb), .15));
  border-color:rgba(var(--color-accent-rgb), .55);
  color:#fff;
}
#auto-time-btn:active,
#clear-filters-btn:active { transform:translateY(1px); }
